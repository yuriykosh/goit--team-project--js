function e(e,t,n,i){Object.defineProperty(e,t,{get:n,set:i,enumerable:!0,configurable:!0})}function t(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},o={},r=n.parcelRequired7c6;null==r&&((r=function(e){if(e in i)return i[e].exports;if(e in o){var t=o[e];delete o[e];var n={id:e,exports:{}};return i[e]=n,t.call(n.exports,n,n.exports),n.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){o[e]=t},n.parcelRequired7c6=r),r.register("kyEFX",(function(t,n){var i,o;e(t.exports,"register",(function(){return i}),(function(e){return i=e})),e(t.exports,"resolve",(function(){return o}),(function(e){return o=e}));var r={};i=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)r[t[n]]=e[t[n]]},o=function(e){var t=r[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),r("kyEFX").register(JSON.parse('{"1zJhX":"my-library.54998dfa.js","32lSb":"empty-list.42b24b97.gif","5UbS1":"index.89eee40d.css","b9auz":"index.a2424749.js"}'));var a,c=r("7Y9D8"),s=r("cnvsZ"),l=r("04jNI");a=new URL(r("kyEFX").resolve("32lSb"),import.meta.url).toString();var d=r("jjYMT"),u=r("dpZmf"),f=r("kkejX"),p=r("hvBA4");const g={watched:document.querySelector(".button-watched"),queued:document.querySelector(".button-queued"),movieList:document.querySelector(".movies"),paginationBlock:document.querySelector("#pagination"),toTopBtn:document.querySelector(".btn-to-top")};g.watched.classList.add("is-active"),g.paginationBlock.classList.add("is-hidden");let v="WATCHED",y=p.default.load(v),m=y?y.length:0;d.pagination.reset(m);const b=d.pagination.getCurrentPage();function h(e){g.watched.classList.remove("is-active"),v=e.target.dataset.name,g.movieList.innerHTML="",d.pagination.movePageTo(1),w(y)}function w(e){e?L(b):g.movieList.innerHTML=`\n      <li>\n        <img src="${t(a)}" alt="The list is empty." />\n      </li>`}function L(e){for(let t=20*(e-1);t<20*e;t+=1){if(t===m)return;S(y[t])}}async function S(e){try{(0,l.spinnerStart)();const t=await s.ApiService.getMoviesById(e),{data:n}=t,i=(0,f.createGalleryMarkup)(n);g.movieList.insertAdjacentHTML("beforeend",i),g.paginationBlock.classList.remove("is-hidden")}catch(e){return console.log(e),g.paginationBlock.classList.add("is-hidden"),c.Notify.failure("Something went wrong. Please try again later.")}finally{(0,l.spinnerStop)()}}w(y),d.pagination.on("afterMove",(function(e){g.movieList.innerHTML="";const t=e.page;try{(0,l.spinnerStart)(),L(t),g.paginationBlock.classList.remove("is-hidden")}catch(e){return g.paginationBlock.classList.add("is-hidden"),console.log(e),c.Notify.failure("Something went wrong. Please try again later.")}finally{(0,l.spinnerStop)()}})),window.addEventListener("scroll",u.onScroll),g.watched.addEventListener("click",h),g.queued.addEventListener("click",h),g.toTopBtn.addEventListener("click",u.onToTopBtn),r("bTcpz"),r("2hk79");
//# sourceMappingURL=my-library.54998dfa.js.map
