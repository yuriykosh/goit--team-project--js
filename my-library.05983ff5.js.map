{"mappings":"oeAAAA,EAAA,SAEsBC,SAASC,cAAc,sBAA7C,MACMC,EAAQF,SAASC,cAAc,gBAC/BE,EAASH,SAASC,cAAc,WAEhCG,EAAkBJ,SAASC,cAAc,oBACzCI,EAAgBL,SAASC,cAAc,kBAI7C,SAASK,EAAWC,GAClBC,QAAQC,IAAI,SAEPF,EAAMG,OAAOC,QAAQ,kBACtBJ,EAAMG,OAAOC,QAAQ,uBACpBJ,EAAMK,UACS,KAAlBL,EAAMK,UASRV,EAAMW,UAAUC,IAAI,aACpBd,SAASe,KAAKC,MAAMC,SAAW,UAP7BjB,SAASkB,oBAAoB,UAAWZ,GACxCJ,EAAMgB,oBAAoB,QAASZ,G,CAZvCH,EAAOgB,iBAAiB,SAqBxB,SAAmBZ,GACjB,MAAMa,EAAab,EAAMG,OAAOC,QAAQ,iBACpCS,IACFhB,EAAgBiB,aAAa,UAAWD,EAAWE,IACnDjB,EAAcgB,aAAa,UAAWD,EAAWE,IAMnDpB,EAAMW,UAAUU,OAAO,aACvBvB,SAASe,KAAKC,MAAMC,SAAW,SAC/Bf,EAAMiB,iBAAiB,QAASb,GAChCN,SAASmB,iBAAiB,UAAWb,G","sources":["src/js/modal.js"],"sourcesContent":["import { ApiService } from \"./ApiServise\";\n\nconst closeModalBtn = document.querySelector('[data-modal-close]');\nconst modal = document.querySelector('[data-modal]');\nconst movies = document.querySelector('.movies');\n\nconst btnAddToWatched = document.querySelector('.btn_add_watched');\nconst btnAddToQueue = document.querySelector('.btn_add_queue');\n\nmovies.addEventListener('click', clickList);\n\nfunction clickModal(event) {\n  console.log('test');\n  if (\n    ((!event.target.closest('.movie-modal') ||\n      event.target.closest('[data-modal-close]')) &&\n      !event.keyCode) ||\n    event.keyCode === 27\n  ) {\n    closeModal();\n    document.removeEventListener('keydown', clickModal);\n    modal.removeEventListener('click', clickModal);\n  }\n}\n\nfunction closeModal() {\n  modal.classList.add('is-hidden');\n  document.body.style.overflow = 'visible';\n}\n\nfunction clickList(event) {\n  const moviesCard = event.target.closest('.movies__item');\n  if (moviesCard){\n    btnAddToWatched.setAttribute('data-id', moviesCard.id);\n    btnAddToQueue.setAttribute('data-id', moviesCard.id);\n    openModal();\n  };\n}\n\nfunction openModal() {\n  modal.classList.remove('is-hidden');\n  document.body.style.overflow = 'hidden';\n  modal.addEventListener('click', clickModal);\n  document.addEventListener('keydown', clickModal);\n}\n"],"names":["parcelRequire","document","querySelector","$8a7e756c566dd1ea$var$modal","$8a7e756c566dd1ea$var$movies","$8a7e756c566dd1ea$var$btnAddToWatched","$8a7e756c566dd1ea$var$btnAddToQueue","$8a7e756c566dd1ea$var$clickModal","event","console","log","target","closest","keyCode","classList","add","body","style","overflow","removeEventListener","addEventListener","moviesCard","setAttribute","id","remove"],"version":3,"file":"my-library.05983ff5.js.map"}