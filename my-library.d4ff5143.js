!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},i=n.parcelRequired7c6;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var i={id:e,exports:{}};return t[e]=i,n.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,n){r[e]=n},n.parcelRequired7c6=i);var a=i("bpxeT"),s=i("2TvXO"),o=i("2nBDz"),c=i("j1lrD"),l=i("6JpON"),d=i("5V9Cu"),p=document.querySelector(".movies"),u=document.querySelector(".tui-pagination"),f=d.pagination.getCurrentPage(),v=[696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,646389,646389,646389,646389,646389,646389],g=v.length;function m(e){for(var n=20*(e-1);n<20*e;n+=1){if(n===g)return;h(v[n])}}function h(e){return _.apply(this,arguments)}function _(){return(_=e(a)(e(s).mark((function n(t){var r,i,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(0,c.spinnerStart)(),e.next=4,o.ApiService.getMoviesById(t);case 4:r=e.sent,i=r.data,a=y(i),p.insertAdjacentHTML("beforeend",a),u.classList.remove("is-hidden"),e.next=16;break;case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),u.classList.add("is-hidden"),e.abrupt("return",l.Notify.failure("Something went wrong. Please try again later."));case 16:return e.prev=16,(0,c.spinnerStop)(),e.finish(16);case 19:case"end":return e.stop()}}),n,null,[[0,11,16,19]])})))).apply(this,arguments)}function y(e){var n=e.genres,t=e.poster_path,r=e.release_date,i=e.title,a=e.vote_average,s=e.id,o="https://image.tmdb.org/t/p/w500/".concat(t),c=r.slice(0,4),l=n.map((function(e){return e.name})),d=l.length>2?[l[0],l[1],"Other"].join(", "):l.join(", "),p=a.toFixed(1);return'\n   <li class="movies__item" id='.concat(s,'>\n      <div class="movies__wrapper">\n      <img \n       alt=').concat(i," src=").concat(o,' class="movies__poster" loading="lazy">\n      </div>\n      <div class="movies__meta">\n        <h2 class="movies__title">').concat(i,'</h2>\n        <div class="movies__desc">\n          <span class="movies__desc-genres">').concat(d,'</span>|\n          <span class="movies__desc-release-year">').concat(c,'</span>\n          <span class="movies__vote is-hidden">').concat(p,"</span>\n        </div>\n      </div>\n    </li>")}d.pagination.reset(g),(0,c.spinnerStart)(),function(e){if(0===e.length)return(0,c.spinnerStop)(),l.Notify.failure("There no movies added to your list yet.");m(f)}(v),d.pagination.on("afterMove",(function(e){p.innerHTML="";var n=e.page;console.log(n);try{(0,c.spinnerStart)(),m(n),u.classList.remove("is-hidden")}catch(e){return u.classList.add("is-hidden"),console.log(e),l.Notify.failure("Something went wrong. Please try again later.")}finally{(0,c.spinnerStop)()}}))}();
//# sourceMappingURL=my-library.d4ff5143.js.map
