var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},i={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var r={id:e,exports:{}};return t[e]=r,n.call(r.exports,r,r.exports),r.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},e.parcelRequired7c6=n);var r=n("7Y9D8"),s=n("cnvsZ");function a(e,{data:t}){return e.map((e=>{const{genre_ids:i,poster_path:n,release_date:r,title:s,vote_average:a,id:o}=e,l=`https://image.tmdb.org/t/p/w500/${n}`,c=r.slice(0,4),p=t.genres.filter((e=>i.includes(e.id))).map((e=>e.name));return`\n     <li class="movies__item" id=${o}>\n        <div class="movies__wrapper">\n        <img onerror="this.onerror=null;this.src=./src/images/mobile-poster-filler.jpeg;"\n         alt="Titanic" src=${l} class="movies__poster" loading="lazy">\n        </div>\n        <div class="movies__meta">\n          <h2 class="movies__title">${s}</h2>\n          <div class="movies__desc">\n            <span class="movies__desc-genres">${p.length>2?[p[0],p[1],"Other"].join(", "):p.join(", ")}</span>|\n            <span class="movies__desc-release-year">${c}</span>\n            <span class="movies__vote is-hidden">${a.toFixed(1)}</span>\n          </div>\n        </div>\n      </li>`}))}var o=n("04jNI");const l=document.querySelector(".movies"),c=document.querySelector(".js-form");c.addEventListener("submit",(function(e){if(e.preventDefault(),c.reset(),""===s.ApiService.query)return r.Notify.failure("Please insert the name of the movie.");l.innerHTML="",s.ApiService.resetPage(),(0,o.spinnerStart)(),async function(){try{const e=await s.ApiService.getMoviesByName(),t=await s.ApiService.getGenresList(),{data:i}=e,{page:n,results:c,total_pages:p,total_results:d}=i;if(0===c.length)return(0,o.spinnerStop)(),r.Notify.failure("Sorry, there are no movies matching your search query. Please try again.");0!==d&&r.Notify.success(`Hooray! We found ${d} movies.`);const u=a(c,t).join("");l.innerHTML=u,(0,o.spinnerStop)()}catch(e){return console.log(e),r.Notify.failure("Something went wrong. Please try again later.")}}()})),c.addEventListener("input",(function(e){s.ApiService.query=e.target.value.trim()})),r.Notify.init({width:"400px",clickToClose:!0}),async function(){try{const e=await s.ApiService.getTrendMovies(),t=await s.ApiService.getGenresList(),{data:i}=e,{page:n,results:c,total_pages:p,total_results:d}=i;if(0===c.length)return(0,o.spinnerStop)(),r.Notify.failure("Trending movies are not available. Please insert the name of the movie.");const u=a(c,t).join("");l.innerHTML=u,(0,o.spinnerStop)()}catch(e){return(0,o.spinnerStop)(),console.log(e),r.Notify.failure("Something went wrong. Please try again later.")}}(),(0,o.spinnerStart)();
//# sourceMappingURL=index.ab0e384a.js.map
