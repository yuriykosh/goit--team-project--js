var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},i={},t=e.parcelRequired7c6;null==t&&((t=function(e){if(e in n)return n[e].exports;if(e in i){var t=i[e];delete i[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){i[e]=n},e.parcelRequired7c6=t);var s=t("cnvsZ"),o=t("04jNI"),a=t("7Y9D8"),r=t("jjYMT");const l=document.querySelector(".movies"),d=document.querySelector(".tui-pagination"),c=r.pagination.getCurrentPage();let p=[696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,646389,646389,646389,646389,646389,646389],f=p.length;function g(e){for(let n=20*(e-1);n<20*e;n+=1){if(n===f)return;u(p[n])}}async function u(e){try{(0,o.spinnerStart)();const n=await s.ApiService.getMoviesById(e),{data:i}=n,t=function(e){const{genres:n,poster_path:i,release_date:t,title:s,vote_average:o,id:a}=e,r=`https://image.tmdb.org/t/p/w500/${i}`,l=t.slice(0,4),d=n.map((e=>e.name)),c=d.length>2?[d[0],d[1],"Other"].join(", "):d.join(", "),p=o.toFixed(1);return`\n   <li class="movies__item" id=${a}>\n      <div class="movies__wrapper">\n      <img \n       alt=${s} src=${r} class="movies__poster" loading="lazy">\n      </div>\n      <div class="movies__meta">\n        <h2 class="movies__title">${s}</h2>\n        <div class="movies__desc">\n          <span class="movies__desc-genres">${c}</span>|\n          <span class="movies__desc-release-year">${l}</span>\n          <span class="movies__vote is-hidden">${p}</span>\n        </div>\n      </div>\n    </li>`}(i);l.insertAdjacentHTML("beforeend",t),d.classList.remove("is-hidden")}catch(e){return console.log(e),d.classList.add("is-hidden"),a.Notify.failure("Something went wrong. Please try again later.")}finally{(0,o.spinnerStop)()}}r.pagination.reset(f),(0,o.spinnerStart)(),function(e){if(0===e.length)return(0,o.spinnerStop)(),a.Notify.failure("There no movies added to your list yet.");g(c)}(p),r.pagination.on("afterMove",(function(e){l.innerHTML="";const n=e.page;console.log(n);try{(0,o.spinnerStart)(),g(n),d.classList.remove("is-hidden")}catch(e){return d.classList.add("is-hidden"),console.log(e),a.Notify.failure("Something went wrong. Please try again later.")}finally{(0,o.spinnerStop)()}}));
//# sourceMappingURL=my-library.c81433f0.js.map
