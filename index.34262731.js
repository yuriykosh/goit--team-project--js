!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i),i("iE7OH").register(JSON.parse('{"EVgbq":"index.34262731.js","dz3oS":"empty-list.42b24b97.gif","5UbS1":"index.6cfcdded.css","2hvCh":"index.dcd3e6ff.js"}'));var a,s=i("bpxeT"),o=i("2TvXO"),c=i("6JpON"),l=i("2nBDz"),p=i("8f3h1"),u=i("j1lrD"),f=i("5V9Cu"),v=i("8vL8o");a=i("aNJCr").getBundleURL("EVgbq")+i("iE7OH").resolve("dz3oS");var d=document.querySelector(".movies"),y=document.querySelector(".js-form"),h=document.querySelector(".tui-pagination"),g=f.pagination.getCurrentPage(),m=document.querySelector(".btn-to-top");function S(){return(S=e(s)(e(o).mark((function t(){var n,r,i,s,v,y;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(0,u.spinnerStart)(),t.next=4,l.ApiService.getMoviesByName(g);case 4:return n=t.sent,t.next=7,l.ApiService.getGenresList();case 7:if(r=t.sent,i=n.data,s=i.results,v=i.total_results,f.pagination.reset(v),0!==s.length){t.next=15;break}return(0,u.spinnerStop)(),d.innerHTML='<li>\n      <p class="empty__notify">where is everyone?</p>\n      <img src="'.concat(e(a),'" alt="The list is empty."/>\n    </li>'),t.abrupt("return",c.Notify.failure("Sorry, there are no movies matching your search query. Please try again."));case 15:0!==v&&c.Notify.success("Hooray! We found ".concat(v," movies.")),y=(0,p.createMainMarkup)(s,r).join(""),d.innerHTML=y,h.classList.remove("is-hidden"),t.next=26;break;case 21:return t.prev=21,t.t0=t.catch(0),console.log(t.t0),d.innerHTML='<li>\n      <p class="empty__notify">where is everyone?</p>\n      <img src="'.concat(e(a),'" alt="The list is empty."/>\n    </li>'),t.abrupt("return",c.Notify.failure("Something went wrong. Please try again later."));case 26:return t.prev=26,(0,u.spinnerStop)(),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[0,21,26,29]])})))).apply(this,arguments)}function w(e){return T.apply(this,arguments)}function T(){return(T=e(s)(e(o).mark((function t(n){var r,i,s,f,v,y;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo({top:0,behavior:"smooth"}),r=n.page,t.prev=2,(0,u.spinnerStart)(),t.next=6,l.ApiService.getMoviesByName(r);case 6:return i=t.sent,t.next=9,l.ApiService.getGenresList();case 9:s=t.sent,f=i.data,v=f.results,y=(0,p.createMainMarkup)(v,s).join(""),d.innerHTML=y,t.next=22;break;case 16:return t.prev=16,t.t0=t.catch(2),h.classList.add("is-hidden"),console.log(t.t0),d.innerHTML='<li>\n      <p class="empty__notify">where is everyone?</p>\n      <img src="'.concat(e(a),'" alt="The list is empty."/>\n    </li>'),t.abrupt("return",c.Notify.failure("Something went wrong. Please try again later."));case 22:return t.prev=22,(0,u.spinnerStop)(),t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[2,16,22,25]])})))).apply(this,arguments)}function x(){return(x=e(s)(e(o).mark((function t(){var n,r,i,s,v,y;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(0,u.spinnerStart)(),t.next=4,l.ApiService.getTrendMovies(g);case 4:return n=t.sent,t.next=7,l.ApiService.getGenresList();case 7:if(r=t.sent,i=n.data,s=i.results,v=i.total_results,f.pagination.reset(v),0!==s.length){t.next=15;break}return(0,u.spinnerStop)(),d.innerHTML='<li>\n      <p class="empty__notify">where is everyone?</p>\n      <img src="'.concat(e(a),'" alt="The list is empty."/>\n    </li>'),t.abrupt("return",c.Notify.failure("Trending movies are not available. Please insert the name of the movie."));case 15:y=(0,p.createMainMarkup)(s,r).join(""),d.innerHTML=y,h.classList.remove("is-hidden"),t.next=25;break;case 20:return t.prev=20,t.t0=t.catch(0),console.log(t.t0),d.innerHTML='<li>\n      <p class="empty__notify">where is everyone?</p>\n      <img src="'.concat(e(a),'" alt="The list is empty."/>\n    </li>'),t.abrupt("return",c.Notify.failure("Something went wrong. Please try again later."));case 25:return t.prev=25,(0,u.spinnerStop)(),t.finish(25);case 28:case"end":return t.stop()}}),t,null,[[0,20,25,28]])})))).apply(this,arguments)}function M(e){return b.apply(this,arguments)}function b(){return(b=e(s)(e(o).mark((function t(n){var r,i,s,f,v,y;return e(o).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.scrollTo({top:0,behavior:"smooth"}),r=n.page,t.prev=2,(0,u.spinnerStart)(),t.next=6,l.ApiService.getTrendMovies(r);case 6:return i=t.sent,t.next=9,l.ApiService.getGenresList();case 9:s=t.sent,f=i.data,v=f.results,y=(0,p.createMainMarkup)(v,s).join(""),d.innerHTML=y,t.next=22;break;case 16:return t.prev=16,t.t0=t.catch(2),h.classList.add("is-hidden"),d.innerHTML='<li>\n      <p class="empty__notify">where is everyone?</p>\n      <img src="'.concat(e(a),'" alt="The list is empty." />\n    </li>'),console.log(t.t0),t.abrupt("return",c.Notify.failure("Something went wrong. Please try again later."));case 22:return t.prev=22,(0,u.spinnerStop)(),t.finish(22);case 25:case"end":return t.stop()}}),t,null,[[2,16,22,25]])})))).apply(this,arguments)}y.addEventListener("submit",(function(e){e.preventDefault();var t=e.currentTarget.elements.query.value.trim();if(!t)return c.Notify.failure("Please insert the name of the movie.");if(h.classList.add("is-hidden"),f.pagination.off("afterMove",M),f.pagination.off("afterMove",w),f.pagination.on("afterMove",w),l.ApiService.query=t,""===l.ApiService.query)return c.Notify.failure("Please insert the name of the movie.");y.reset(),d.innerHTML="",function(){S.apply(this,arguments)}()})),window.addEventListener("scroll",v.onScroll),m.addEventListener("click",v.onToTopBtn),c.Notify.init({width:"400px",clickToClose:!0}),function(){x.apply(this,arguments)}(),f.pagination.on("afterMove",M),i("iNWLi"),i("5xtVg"),i("cLfKh")}();
//# sourceMappingURL=index.34262731.js.map
