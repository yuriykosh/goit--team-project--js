!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},i=t.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var i={id:e,exports:{}};return n[e]=i,t.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired7c6=i);var a=i("bpxeT"),s=i("2TvXO"),o=i("6JpON"),c=i("2nBDz");function l(e,t){var n=t.data;return e.map((function(e){var t=e.genre_ids,r=e.poster_path,i=e.release_date,a=e.title,s=e.vote_average,o=e.id,c="https://image.tmdb.org/t/p/w500/".concat(r),l=i.slice(0,4),u=n.genres.filter((function(e){return t.includes(e.id)})).map((function(e){return e.name})),p=u.length>2?[u[0],u[1],"Other"].join(", "):u.join(", "),f=s.toFixed(1);return'\n     <li class="movies__item" id='.concat(o,'>\n        <div class="movies__wrapper">\n        <img onerror="this.onerror=null;this.src=').concat("./src/images/mobile-poster-filler.jpeg",';"\n         alt="Titanic" src=').concat(c,' class="movies__poster" loading="lazy">\n        </div>\n        <div class="movies__meta">\n          <h2 class="movies__title">').concat(a,'</h2>\n          <div class="movies__desc">\n            <span class="movies__desc-genres">').concat(p,'</span>|\n            <span class="movies__desc-release-year">').concat(l,'</span>\n            <span class="movies__vote is-hidden">').concat(f,"</span>\n          </div>\n        </div>\n      </li>")}))}var u=i("j1lrD"),p=document.querySelector(".movies"),f=document.querySelector(".js-form");function v(){return(v=e(a)(e(s).mark((function t(){var n,r,i,a,f,v;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.ApiService.getMoviesByName();case 3:return n=e.sent,e.next=6,c.ApiService.getGenresList();case 6:if(r=e.sent,i=n.data,i.page,a=i.results,i.total_pages,f=i.total_results,0!==a.length){e.next=12;break}return(0,u.spinnerStop)(),e.abrupt("return",o.Notify.failure("Sorry, there are no movies matching your search query. Please try again."));case 12:0!==f&&o.Notify.success("Hooray! We found ".concat(f," movies.")),v=l(a,r).join(""),p.innerHTML=v,(0,u.spinnerStop)(),e.next=22;break;case 18:return e.prev=18,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",o.Notify.failure("Something went wrong. Please try again later."));case 22:case"end":return e.stop()}}),t,null,[[0,18]])})))).apply(this,arguments)}function d(){return(d=e(a)(e(s).mark((function t(){var n,r,i,a,f;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.ApiService.getTrendMovies();case 3:return n=e.sent,e.next=6,c.ApiService.getGenresList();case 6:if(r=e.sent,i=n.data,i.page,a=i.results,i.total_pages,i.total_results,0!==a.length){e.next=12;break}return(0,u.spinnerStop)(),e.abrupt("return",o.Notify.failure("Trending movies are not available. Please insert the name of the movie."));case 12:f=l(a,r).join(""),p.innerHTML=f,(0,u.spinnerStop)(),e.next=22;break;case 17:return e.prev=17,e.t0=e.catch(0),(0,u.spinnerStop)(),console.log(e.t0),e.abrupt("return",o.Notify.failure("Something went wrong. Please try again later."));case 22:case"end":return e.stop()}}),t,null,[[0,17]])})))).apply(this,arguments)}f.addEventListener("submit",(function(e){if(e.preventDefault(),f.reset(),""===c.ApiService.query)return o.Notify.failure("Please insert the name of the movie.");p.innerHTML="",c.ApiService.resetPage(),(0,u.spinnerStart)(),function(){v.apply(this,arguments)}()})),f.addEventListener("input",(function(e){c.ApiService.query=e.target.value.trim()})),o.Notify.init({width:"400px",clickToClose:!0}),function(){d.apply(this,arguments)}(),(0,u.spinnerStart)()}();
//# sourceMappingURL=index.4c2fafd1.js.map
