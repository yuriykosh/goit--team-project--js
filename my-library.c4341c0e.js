var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},t={},i=e.parcelRequired7c6;null==i&&((i=function(e){if(e in n)return n[e].exports;if(e in t){var i=t[e];delete t[e];var s={id:e,exports:{}};return n[e]=s,i.call(s.exports,s,s.exports),s.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){t[e]=n},e.parcelRequired7c6=i);var s=i("cnvsZ"),o=i("04jNI"),r=i("7Y9D8"),a=i("jjYMT"),l=i("dpZmf");const d=document.querySelector(".movies"),c=document.querySelector(".tui-pagination"),p=document.querySelector(".btn-to-top"),f=a.pagination.getCurrentPage();window.addEventListener("scroll",l.onScroll),p.addEventListener("click",l.onToTopBtn);let u=[696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,696157,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,597,646389,646389,646389,646389,646389,646389],v=u.length;function g(e){for(let n=20*(e-1);n<20*e;n+=1){if(n===v)return;m(u[n])}}async function m(e){try{(0,o.spinnerStart)();const n=await s.ApiService.getMoviesById(e),{data:t}=n,i=function(e){const{genres:n,poster_path:t,release_date:i,title:s,vote_average:o,id:r}=e,a=`https://image.tmdb.org/t/p/w500/${t}`,l=i.slice(0,4),d=n.map((e=>e.name)),c=d.length>2?[d[0],d[1],"Other"].join(", "):d.join(", "),p=o.toFixed(1);return`\n   <li class="movies__item" id=${r}>\n      <div class="movies__wrapper">\n      <img \n       alt=${s} src=${a} class="movies__poster" loading="lazy">\n      </div>\n      <div class="movies__meta">\n        <h2 class="movies__title">${s}</h2>\n        <div class="movies__desc">\n          <span class="movies__desc-genres">${c}</span>|\n          <span class="movies__desc-release-year">${l}</span>\n          <span class="movies__vote is-hidden">${p}</span>\n        </div>\n      </div>\n    </li>`}(t);d.insertAdjacentHTML("beforeend",i),c.classList.remove("is-hidden")}catch(e){return console.log(e),c.classList.add("is-hidden"),r.Notify.failure("Something went wrong. Please try again later.")}finally{(0,o.spinnerStop)()}}a.pagination.reset(v),(0,o.spinnerStart)(),function(e){if(0===e.length)return(0,o.spinnerStop)(),r.Notify.failure("There no movies added to your list yet.");g(f)}(u),a.pagination.on("afterMove",(function(e){d.innerHTML="";const n=e.page;try{(0,o.spinnerStart)(),g(n),c.classList.remove("is-hidden")}catch(e){return c.classList.add("is-hidden"),console.log(e),r.Notify.failure("Something went wrong. Please try again later.")}finally{(0,o.spinnerStop)()}}));
//# sourceMappingURL=my-library.c4341c0e.js.map
